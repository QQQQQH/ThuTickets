```js
serverIp = 'http://140.143.129.182:80'
```

---

## app.js
### 登录
``` js
wx.request({
    url: this.globalData.serverIp + '/user/login',
    method: 'POST',
    header: {
        'content-type': 'application/x-www-form-urlencoded'
    },
    data: {
        code: res.code, //临时登录凭证
        rawData: this.globalData.rawData, //用户非敏感信息
        signature: this.globalData.signature, //签名
        encrypteData: this.globalData.encryptedData, //用户敏感信息
        iv: this.globalData.iv //解密算法的向量
    },
})
```

---

## me.js
### 身份验证
```js
wx.request({
    url: app.globalData.serverIp + '/user/verifcation'
    method: 'POST',
    header: {
        'content-type': 'application/x-www-form-urlencoded'
    },
    data: {
        token: app.globalData.token //助教小程序返回的身份验证token
    }
```

---

## index.js
## 获取活动列表
``` js
wx.request({
    url: app.globalData.serverIp + '/user/events'
    headers: {
        'Content-Type': 'application/json'
    }
})
```

---

## detail.js
### 获取指定eventId的活动信息
``` js
wx.request({
    url: app.globalData.serverIp + '/user/events/image?id=' + eventId
})
```

### 点击抢票
``` js
let skey = wx.getStorageSync('skey').data // 登录态
wx.request({
    url: app.globalData.serverIp + '/user/buy-ticket?skey=' + skey + '&eventid=' + this.data.eventInfo.eventid,
    method: 'GET',
    header: {
    'content-type': 'application/x-www-form-urlencoded'
    }
})
```
